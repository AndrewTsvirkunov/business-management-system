<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Календарь: {{ year }}/{{ month }}</title>
</head>
<body>
    <h1>Календарь: {{ year }}-{{ "%02d"|format(month) }}</h1>
    <table border="1" cellpadding="5">
        <tr>
            <th>Дата</th>
            <th>События</th>
        </tr>
        {% for d in range(1, days_in_month+1) %}
            {% set current_date = date(year, month, d) %}
            {% if current_date in days %}
            <tr>
                <td>
                    <a href="{{ url_for('day_view', day=current_date) }}">{{ current_date }}</a>
                </td>
                <td>
                    {% if current_date in days %}
                        {% for type, title in days[current_date] %}
                            {{ type }}: {{ title }} <br>
                        {% endfor %}
                    {% else %}
                        <i>Нет событий</i>
                    {% endif %}
                </td>
            </tr>
            {% endif %}
        {% endfor %}
    </table>
    <a href="/calendar/month/{{ year }}/{{ month-1 if month>1 else 12 }}">Предыдущий месяц</a>
    <a href="/calendar/month/{{ year }}/{{ month+1 if month<12 else 1 }}">Следующий месяц</a><br>
    <a href="/">На главную</a>
</body>
</html>