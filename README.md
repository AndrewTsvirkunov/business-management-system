# Business Management System
Система управления бизнес-процессами: задачи, команды, оценки, встречи и календарь. 
Реализована на FastAPI с PostgreSQL, поддерживает JWT-авторизацию и асинхронную работу с базой данных.

---

# Возможности
- Авторизация и регистрация пользователей
- CRUD для задач, команд, встреч и оценок
- Календарь событий
- Комментирование задач
- Роли пользователей (админ, менеджер, обычный пользователь)
- Асинхронная работа с PostgreSQL
- Swagger документация (/docs)

---

# Установка
### 1. Клонируйте репозиторий
```
git clone https://github.com/AndrewTsvirkunov/business-management-system.git
cd business_management_system
```

### 2. Создайте и активируйте виртуальное окружение
```
python -m venv .venv
```
Windows
```
.venv\Scripts\activate
```
Linux/Mac
```
source .venv/bin/activate
```

### 3. Создайте новую БД PostgreSQL (например, в pgAdmin4)

### 4. Создайте и заполните .env на основе .env.example
В DB_HOST укажите:
- "db" - для запуска с помощью Docker
- "localhost" - для локального запуска

Ключи SECRET_KEY и ADMIN_SECRET_KEY должны быть уникальны и содержать 64 символа (a-z, 0-9)

---

# Запуск с помощью Docker
### Сборка и запуск:
```
docker-compose up -d --build
```
Откройте проект по адресу http://127.0.0.1:8000

---

# Локальный запуск
### 1. Установите зависимости
```
pip install --upgrade pip
pip install -r requirements.txt
```

### 2. Примените миграции
```
alembic upgrade head
```

### 3. Запустите проект
```
uvicorn app.main:app --reload
```
Откройте проект по адресу http://127.0.0.1:8000

---

# Работа с проектом
### 1. Создайте пользователя с правами admin
Откройте документацию Swagger по адресу http://127.0.0.1:8000/docs. 
Найдите тэг **users** и откройте эндпоинт **/users/register**. Установите **"role": "admin"**. 
Также придумайте имя, почту и пароль.

### 2. Создайте других пользователей
Откройте админ-панель по адресу http://127.0.0.1:8000/admin. Войдите за только что созданного администратора.
Далее перейдите в **Users**. Создайте разных пользователей наделив их правами **user** и **manager**.

### 3. Главная страница
После шага 1-2 перейдите на главную страницу по адресу http://127.0.0.1:8000. 
Осуществите вход за любого из созданных пользователей.
Если хотите сменить пользователя, нажмите **Выйти**.
Ознакомьтесь с панелью навигации.

---

# Тестирование
### 1. Создайте тестовую БД
Не забудьте в .env указать ее имя в TEST_DB_NAME
### 2. Запустите тесты
```
pytest
```
### 3. Сгенерируйте отчет о покрытии
```
pytest --cov=app --cov-report=html
```





